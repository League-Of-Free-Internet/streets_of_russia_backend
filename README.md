# streets_of_russia_backend

<div align="center">
<!-- Title: -->
  <a href="https://github.com/League-Of-Free-Internet">
    <img src="https://avatars.githubusercontent.com/u/156543782?s=400&u=7125039f153801ba2b620fd12b655afd690cb7aa&v=4" height="250">
  </a>
  <h1><a href="https://streetrussia.ru/">Улицы России</a> - начинаются с тебя</h1>
<!-- Labels: -->
  <!-- First row: -->
  <a href="https://github.com/League-Of-Free-Internet/empty_project" style="text-decoration: none;"><img src="https://img.shields.io/github/contributors/League-Of-Free-Internet/empty_project" height="20" alt="Contributions"></a>
    <img src="https://pypi-camo.freetls.fastly.net/18c2771271928b1071e8d436680f9a0abf272294/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f646a616e676f726573746672616d65776f726b2e737667?style=flat-square" height="20">
    <img src="https://img.shields.io/github/repo-size/League-Of-Free-Internet/empty_project" height="20" alt="repo-size">
    <img src="https://img.shields.io/github/languages/code-size/League-Of-Free-Internet/empty_project" height="20" alt="code-size">
  <a href="https://img.shields.io/github/license/League-Of-Free-Internet/empty_project" style="text-decoration: none;"><img src="https://img.shields.io/github/license/League-Of-Free-Internet/empty_project" height="20" alt="license"></a>
  <!-- Second row: -->
  <br>
  <a href="https://github.com/League-Of-Free-Internet/empty_project/actions" style="text-decoration: none;"><img src="https://img.shields.io/github/actions/workflow/status/League-Of-Free-Internet/empty_project/empty_project_workflow.yml?label=workflow%20build" height="20" alt="GitHub Workflow Status"></a>
  <a href="https://github.com/pre-commit/pre-commit" style="text-decoration: none;"><img src="https://img.shields.io/badge/pre--commit-enabled-brightgreen?logo=pre-commit&logoColor=white&style=flat-square" height="20" alt="pre-commit"></a>
  <a href="https://github.com/psf/black" style="text-decoration: none;"><img src="https://img.shields.io/static/v1?label=code%20style&message=black&color=black&style=flat-square" height="20" alt="code style: black"></a>
  <!-- Third row: -->
  <br>
  <a href="https://github.com/League-Of-Free-Internet/empty_project/branches" style="text-decoration: none;"><img src="https://img.shields.io/github/commit-activity/w/League-Of-Free-Internet/empty_project" height="20" alt="commit-activity"></a>
  <a href="https://github.com/League-Of-Free-Internet/empty_project/branches" style="text-decoration: none;"><img src="https://img.shields.io/github/last-commit/League-Of-Free-Internet/empty_project" height="20" alt="last-commit"></a>
  <a href="https://github.com/orgs/League-Of-Free-Internet/projects/2" style="text-decoration: none;"><img src="https://img.shields.io/github/issues/League-Of-Free-Internet/empty_project" height="20" alt="issues"></a>

<!-- Short description: -->
  <h2>В проекте использовались:</h2>
  <a href="https://www.python.org/" style="text-decoration: none;"><img src="https://img.shields.io/badge/Python-3.12-blue?style=flat&logo=python&logoColor=ffdd54" height="20" alt="python"></a>
  <a href="https://www.djangoproject.com/" style="text-decoration: none;"><img src="https://img.shields.io/badge/Django-5.0.6-blue?style=flat&logo=django" height="20" alt="django"></a>
  <a href="https://www.django-rest-framework.org/" style="text-decoration: none;"><img src="https://img.shields.io/badge/DRF-3.15.1-blue?style=flat&logo=rest-framework" height="20" alt="django-rest-framework"></a>
  <a href="https://gunicorn.org/" style="text-decoration: none;"><img src="https://img.shields.io/badge/Gunicorn-22.0.0-blue?style=flat&logo=gunicorn" height="20" alt="gunicorn"></a>
  <br>
  <a href="https://daviddrysdale.github.io/python-phonenumbers/" style="text-decoration: none;"><img src="https://img.shields.io/badge/phonenumberslite-8.13.37-blue?style=flat&logo=phonenumberslite" height="20" alt="python-phonenumbers"></a>
  <a href="https://drf-yasg.readthedocs.io/en/stable/readme.html" style="text-decoration: none;"><img src="https://img.shields.io/badge/drf_yasg-1.21.7-blue?style=flat&logo=drf-yasg" height="20" alt="drf-yasg"></a>
  <a href="https://django-rest-framework-simplejwt.readthedocs.io/en/latest/" style="text-decoration: none;"><img src="https://img.shields.io/badge/simplejwt-5.3.1-blue?style=flat&logo=simplejwt" height="20" alt="django-rest-framework-simplejwt"></a>
  <a href="https://www.docker.com/" style="text-decoration: none;"><img src="https://img.shields.io/badge/Docker-new-blue?style=flat&logo=docker" height="20" alt="docker"></a>
</div>

> На стадии разработки.

## О проекте

Улицы России это проект единственной общероссийской организации в такой сфере, которая способствует
развитию уличных культур: воркаут, паркур, граффити, хип хоп и другие.
Улицы России ломают стереотипы о том, что это агрессивный и травмоопасный спорт
И доказывают, что этим может заниматься любой.

## Документация для работы в команде над проектом

[![Code Style](https://img.shields.io/badge/Прочитать-Документацию_Code_Style-blue?style=for-the-badge)](https://github.com//League-Of-Free-Internet/empty_project/blob/dev/.github/docs/code_style_rules.md) [![Pull Request](https://img.shields.io/badge/Прочитать-Документацию_Pull_Request-2ea44f?style=for-the-badge)](https://github.com/League-Of-Free-Internet/empty_project/blob/dev/.github/docs/pull_request_rules.md)

## Ссылка на проект

[![Site](https://img.shields.io/badge/Перейти_на-Сайт-2ea44f?style=for-the-badge)]()

## Технологии

- Python
- Django Rest Framework
- Djoser
- Simple JWT
- drf-yasg
- phonenumberslite

### Общая структура проекта:

```
├──.github/                 # Файлы и настройки, связанные с GitHub/Github actions
├──infra/                   # Директория с docker compose
│   ├── nginx/              # Директория NGINX с конфигурацией
│   └── docker-compose.yml  # Файл конфигурации для Docker Compose
├──requrements/             # Директория с файлами зависимостей
│   ├── develop.txt         # Файл со списком зависимостей для разработки
│   └── production.txt      # Файл со списком зависимостей для продуктовой версии
├── src/                    # Backend приложения Django/DRF
│   ├── about/              # Приложение для моделей об организации и документов [в разработке]
│   ├── api/                # API - программный интерфейс приложения [в разработке]
│   ├── config/             # Главная директория проекта с основными настройками [в разработке]
│   ├── core/               # Приложение общего назначения для вспомогательных функций, процессоров, констант [в разработке]
│   ├── disciplines/        # Приложение для моделей дисциплин и спорта [в разработке]
│   ├── events/             # Приложение для моделей о событиях и календаря [в разработке]
│   ├── news/               # Приложение для моделей новостной рубрики [в разработке]
│   └── manage.py           # Исполняемый файл
├── .dockerignore           # Файл исключений Docker из сборки образа
├── .env.db.example         # Файл примера для секретных переменных базы данных
├── .env.example            # Файл примера для секретных переменных
├── .gitignore              # Файл со списком неотслеживаемых файлов и каталогов
├── Dockerfile              # Файл настройки базового Docker образа
├── .pre-commit-config.yaml # Файл настройки pre-commit
├── LICENSE                 # Лицензия проекта
└── setup.cfg               # Конфигурационный файл
```
## Установка для разработки локальный запуск:

1. Клонируйте проект на свой компьютер:
    ```bash
    git clone git@github.com:League-Of-Free-Internet/streets_of_russia_backend.git
    ```
2. Установите и активируйте виртуальное окружение c Python 3.12.3
    ```bash
    cd ./streets_of_russia_backend/ &&
    python -m venv venv
    ```
    Для Windows:
    ```bash
    source venv/Scripts/Activate
    ```
    Для Linux
    ```bash
    source . venv/bin/activate
    ```
3. Установите зависимости из файла requirements/develop.txt
    Для Windows:
    ```bash
    python -m pip install --upgrade pip
    pip install -r requirements/develop.txt
    ```
    для Linux:
    ```bash
    pip install --upgrade pip
    pip install -r requirements.txt
    ```
4. Создайте файл с переменными окружения в основной папке проекта "streets_of_russia_backend"
    ```bash
    touch .env
    ```
5. Добавьте ваши данные в файл .env (подробнее в .env.example)
    ```
    SECRET_KEY="Секретный код Django"
    DEBUG="True или False"
    ALLOWED_HOSTS="IP (домен) вашего сервера"
    DB_ENGINE="backend django для работы с PostgreSQL"
    DB_NAME="Название базы данных"
    POSTGRES_USER="Пользователь базы данных"
    POSTGRES_PASSWORD="Пароль пользователя"
    DB_HOST="Хост базы данных"
    ```
6. Создайте файл с переменными окружения для базы данных в основной папке проекта "streets_of_russia_backend"
    ```bash
    touch .env.db
    ```
7. Добавьте ваши данные в файл .env.db (подробнее в .env.db.example)
    ```
    DB_NAME="Название базы данных"
    POSTGRES_USER="Пользователь базы данных"
    POSTGRES_PASSWORD="Пароль пользователя"
    DB_HOST="Хост базы данных"
    DB_PORT="Порт хоста базы данных"
    ```

## Локальный запуск проекта в Docker контейнерах:

1. Убедитесь, что docker и docker compose установлен:
    ```bash
   docker compose --version
    ```
    Инструмент Docker engine можно установить с [этого официального сайта](https://docs.docker.com/engine/install/)

    Плагин Docker compose можно установить с [этого официального сайта](https://docs.docker.com/compose/install/linux/)
2. Проверьте, что данные в файле .env и .env.db актуальны для вас, для
корректной работы требуется значение `DEBUG=False` в .env файле.
3. Из папки infra/ запустите конфигурационный файл Docker Compose проекта
    ```bash
    docker compose -f ../streets_of_russia_backend/infra/docker-compose.yml up
    ```

## Развёртывание и запуск проекта на удалённом сервере:

1. Убедитесь, что на удалённом сервере установлен Docker и Docker Compose.
2. Скопируйте ваши актуальные файлы .env, .env.db, конфигурационный файл
для запуска проекта docker-compose.yml из папки infra/ и настроенный для
вашего удалённого сервера конфигурационный файл nginx/default.conf. Для этого
можно использовать утилиту scp:
    ```bash
    scp -r /path/to/your/project user@remote_server:/path/on/remote/server
    ```
3. Подключитесь к удалённому серверу через SSH:
    ```bash
    ssh user@remote_server
    ```
4. Перейдите в директорию с вашим проектом и выполните команду для сборки и
запуска контейнеров:
    ```bash
    cd /path/on/remote/server
    docker compose up --build
    ```
5. Откройте браузер и перейдите по адресу, например,
http://remote_server_ip:8000, чтобы убедиться, что приложение работает.
6. Теперь ваш проект должен быть развёрнут и запущен в Docker-контейнерах на
удалённом сервере. Вы можете управлять контейнерами с помощью команд
Docker compose и следить за их состоянием через docker ps и docker logs.

## Проект разрабатывали:

| <!-- --> | <!-- -->      | <!-- -->    |
|----------|---------------|-------------|
| Владимир Васильев | Python-разработчик | [Cтраница GitHub](https://github.com/chem1sto) |
| Эдуард Гумен | Python-разработчик | [Cтраница GitHub](https://github.com/hydrospirt) |

## Лицензия

Пожалуйста, ознакомьтесь с [MIT license](https://github.com/League-Of-Free-Internet/empty_project?tab=MIT-1-ov-file)
